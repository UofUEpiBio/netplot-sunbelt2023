[
  {
    "objectID": "Contact Us.html",
    "href": "Contact Us.html",
    "title": "Contact Us",
    "section": "",
    "text": "This webpage will explore the dataset exploring connections in 7th and 8th grade students at a middle school. The data was taken from “Estimates of Social Contact in a Middle School Based on Self-Report and Wireless Sensor Data”. This is the “Example 1” on the poster."
  },
  {
    "objectID": "Contact Us.html#introduction-cleaning-data-explore-data",
    "href": "Contact Us.html#introduction-cleaning-data-explore-data",
    "title": "Contact Us",
    "section": "Introduction || Cleaning Data || Explore Data",
    "text": "Introduction || Cleaning Data || Explore Data\nThese are the packages that were used for this analysis:\n\nprint(\"porter\")\n\n[1] \"porter\""
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "netplot@Sunbelt 2023",
    "section": "",
    "text": "sna Example\nThis is one of the current ways to plot network data.\n\n# load libraries\nlibrary(igraph)\nlibrary(netplot)\nlibrary(sna)\nlibrary(intergraph)\n\nset.seed(1)\n\n# read in data\ndata(\"UKfaculty\", package = \"igraphdata\")\nl <- layout_with_fr(UKfaculty)\n\n# create sna graph\nsna::gplot(intergraph::asNetwork(UKfaculty), coord=l)\n\n\n\n\n\n\nigraph Example\nThis shows the same dataset from above, but it uses igraph to plot it all. igraph is one of the common packages used in industry.\n\n# load libraries\nlibrary(igraph)\nlibrary(netplot)\n\nset.seed(1)\n\n# read in data\ndata(\"UKfaculty\", package = \"igraphdata\")\nl <- layout_with_fr(UKfaculty)\n\n# create igraph graph\nplot(UKfaculty, layout = l)\n\n\n\n\n\n\nnetplot Example\nBelow is an example of how netplot plots the same data. As you can see, even the base model of it is quite different, and it allows for a clean, pretty graph overall.\n\n# load libraries\nlibrary(igraph)\nlibrary(netplot)\n\nset.seed(1)\n\n# read in data\ndata(\"UKfaculty\", package = \"igraphdata\")\nl <- layout_with_fr(UKfaculty)\n\n# create netplot graph\nnplot(UKfaculty, layout = l)"
  },
  {
    "objectID": "middle_school.html",
    "href": "middle_school.html",
    "title": "Middle School Students",
    "section": "",
    "text": "This webpage will explore the dataset exploring connections in 7th and 8th grade students at a middle school. The data was taken from “Estimates of Social Contact in a Middle School Based on Self-Report and Wireless Sensor Data”. This is the “Example 1” on the poster."
  },
  {
    "objectID": "middle_school.html#introduction-cleaning-data-explore-data",
    "href": "middle_school.html#introduction-cleaning-data-explore-data",
    "title": "Middle School Students",
    "section": "Introduction || Cleaning Data || Explore Data",
    "text": "Introduction || Cleaning Data || Explore Data\nThese are the packages that were used for this analysis:\n\n# attaching packages ####\nlibrary(igraph)\nlibrary(netplot)\nlibrary(data.table)\n\nFirst, let’s clean it all up, getting rid of the “isolates” (those who only are connected to one person). Here is the script for cleaning that data:\n\n# loading and cleaning data ####\nstudents <- fread(\"./misc/data-raw/middle_school/pone.0153690.s001.csv\")\ninteractions <- fread(\"./misc/data-raw/middle_school/pone.0153690.s003.csv\")\n\nstudents <- students[!is.na(id)]\nstudents <- students[gender %in% c(\"0\", \"1\")]\ninteractions <- interactions[!is.na(id) & !is.na(contactId)]\n\n## Which connections are not OK?\nids <- sort(unique(students$id))\n\n## Alright, this narrowed our data from 10781 to 5150\ninteractions <- interactions[(id %in% ids) & (contactId %in% ids)]\n\n## Creating weights matrix \nnet <- graph_from_data_frame(\n  d = interactions[, .(id, contactId)],\n  directed = FALSE, vertices = as.data.frame(students)\n)\n\n## Getting only connected individuals\nnet_with_no_isolates <- induced_subgraph(net, which(degree(net) > 0))\n\n## Plot with no isolates\nnplot(\n  net_with_no_isolates\n) \n\n\n\n\n\nAwesome. Now that things are cleaned up a bit, let’s see what separate sections we are dealing with!\n\n# let's see what it looks like ####\nprint(net_with_no_isolates)\n\nIGRAPH 9a2177e UN-- 541 5136 -- \n+ attr: name (v/c), grade (v/n), gender (v/n), unique (v/n), lunch\n| (v/n), initialsNum (v/n)\n+ edges from 9a2177e (vertex names):\n [1] 2004--3127 2004--2620 2004--2141 2004--2362 2004--2362 2004--2294\n [7] 2004--2274 2004--2402 2004--2402 2004--2402 2004--2603 2004--2603\n[13] 2004--2603 2004--2603 2004--2603 2004--2603 2004--2603 2004--2603\n[19] 2004--2603 2004--2028 2004--2028 2004--2028 2004--2308 2004--3025\n[25] 2006--2028 2006--2028 2006--2028 2006--3158 2006--3381 2006--2495\n[31] 2006--2495 2006--2494 2006--2356 2006--2356 2006--2408 2009--2346\n[37] 2009--3018 2009--2265 2009--2395 2009--2395 2009--3134 2009--3427\n+ ... omitted several edges\n\n\n\nHere we go! Other than the new unique aspects, we have grade, gender, and lunch period that we can explore."
  },
  {
    "objectID": "middle_school.html#load-in-color_nodes.r-function",
    "href": "middle_school.html#load-in-color_nodes.r-function",
    "title": "Middle School Students",
    "section": "Load in “color_nodes.R” function",
    "text": "Load in “color_nodes.R” function\n\n## load in 'color_nodes' function ####\nsource(file = \"./misc/color_nodes_function.R\")"
  },
  {
    "objectID": "middle_school.html#split-according-to-grade",
    "href": "middle_school.html#split-according-to-grade",
    "title": "Middle School Students",
    "section": "Split According to Grade",
    "text": "Split According to Grade\n\n## adjust 'grade' to factor \nV(net_with_no_isolates)$grade <-  as.factor(V(net_with_no_isolates)$grade)  \n\n# plotting connections among grades ####\nset.seed(77)   \n\na_colors <- color_nodes(net_with_no_isolates,\"grade\", c(\"gray40\",\"red3\"))\nattr(a_colors, \"map\")\n\n        7         8 \n\"#666666\" \"#CD0000\" \n\ngrades <- nplot(\n  net_with_no_isolates,\n  vertex.color = color_nodes(net_with_no_isolates, \"grade\", c(\"gray40\",\"red3\")),\n  vertex.nsides = ifelse(V(net_with_no_isolates)$grade == 7, 10, 10),\n  vertex.size.range = c(0.015, 0.015),\n  edge.color = ~ego(alpha = 1, col = \"lightgray\") + alter(alpha = 0.25, col = \"lightgray\"),\n  vertex.label = NULL,\n  edge.curvature = pi/6,\n  edge.line.breaks = 10  \n)  \n\n# add radial gradient fill \ngrades <- set_vertex_gpar(grades, \n                          element = \"core\",\n                          fill = lapply(get_vertex_gpar(grades, \"frame\", \"col\")$col, \\(i) {\n                            radialGradient(c(\"white\", i), cx1=.8, cy1=.8, r1=0)\n                          }))\n\n# add legend to graph\ngrades_general <- nplot_legend(\n  grades,\n  labels = c(\"7th\", \"8th\"),\n  pch = c(21,21),\n  gp = gpar(\n    fill = c(\"gray40\",\"red3\")),\n  packgrob.args = list(side = \"bottom\"),\n  ncol = 2  \n)\n\n\ngrades_general\ngrid.text(\"Split According to Grade\", x = .2, y = .87, just = \"bottom\")"
  },
  {
    "objectID": "middle_school.html#split-according-to-gender",
    "href": "middle_school.html#split-according-to-gender",
    "title": "Middle School Students",
    "section": "Split According to Gender",
    "text": "Split According to Gender\n\n# let's get a graph for the gender data\nV(net_with_no_isolates)$gender <-  as.factor(V(net_with_no_isolates)$gender)\n\na_colors <- color_nodes(net_with_no_isolates,\"gender\", c(\"lightgoldenrod2\",\"forestgreen\"))\nattr(a_colors, \"map\")\n\n        0         1 \n\"#EEDC82\" \"#228B22\" \n\n## plot\nset.seed(77)\ngender <- nplot(\n  net_with_no_isolates,\n  vertex.color = color_nodes(net_with_no_isolates, \"gender\",c(\"lightgoldenrod2\",\"forestgreen\")),\n  vertex.nsides = ifelse(V(net_with_no_isolates)$gender == 0, 10, 4),\n  vertex.size.range = c(0.01, 0.01),\n  edge.color = ~ego(alpha = 0.33, col = \"gray\") + alter(alpha = 0.33, col = \"gray\"),\n  vertex.label = NULL,\n  edge.line.breaks = 10\n)\n\n# add legend to graph\nnplot_legend(\n  gender,\n  labels = c(\"Male\", \"Female\"),\n  pch = c(21,23),\n  gp = gpar(\n    fill = c(\"lightgoldenrod2\",\"forestgreen\")),\n  packgrob.args = list(side = \"bottom\"),\n  ncol = 2\n)\n\ngrid.text(\"Split According to Gender\", x = .2, y = .87, just = \"bottom\")"
  },
  {
    "objectID": "middle_school.html#split-according-to-lunch-period",
    "href": "middle_school.html#split-according-to-lunch-period",
    "title": "Middle School Students",
    "section": "Split According to Lunch Period",
    "text": "Split According to Lunch Period\n\n# now let's do the same with lunch period \nV(net_with_no_isolates)$lunch <-  as.factor(V(net_with_no_isolates)$lunch)\n\na_colors <- color_nodes(net_with_no_isolates,\"lunch\", c(\"purple\",\"palegreen\",\"steelblue\"))\nattr(a_colors, \"map\")\n\n        1         2        99 \n\"#A020F0\" \"#98FB98\" \"#4682B4\" \n\n## plot\nset.seed(77)\nlunch <- nplot(\n  net_with_no_isolates,\n  vertex.color = color_nodes(net_with_no_isolates, \"lunch\",c(\"purple\",\"palegreen\",\"steelblue\")),\n  vertex.nsides = \n  ifelse(V(net_with_no_isolates)$gender == 0, 4,   # First Lunch\n        ifelse(V(net_with_no_isolates)$gender == 1, 3,  # Second Lunch \n               10)),                                 # Other\n  vertex.size.range = c(0.01, 0.01),\n  edge.color = ~ego(alpha = 0.33, col = \"gray\") + alter(alpha = 0.33, col = \"gray\"),\n  vertex.label = NULL,\n  edge.line.breaks = 10\n)\n\n# add legend to graph\nnplot_legend(\n  lunch,\n  labels = c(\"First\", \"Second\", \"Other\"),\n  pch = c(23,24,21),\n  gp = gpar(\n    fill = c(\"purple\",\"palegreen\",\"steelblue\")),\n  packgrob.args = list(side = \"bottom\"),\n  ncol = 3\n)\n\ngrid.text(\"Split According to Lunch Period\", x = .2, y = .87, just = \"bottom\")"
  },
  {
    "objectID": "nursing_home.html",
    "href": "nursing_home.html",
    "title": "Nursing Home",
    "section": "",
    "text": "This webpage will explore the dataset exploring connections between health care providers and their patients in VA nursing homes. The data was taken from “Assessing Pathogen Transmission Opportunities: Variation in Nursing Home Staff-Resident Interactions”. This is the “Example 2” on the poster."
  },
  {
    "objectID": "nursing_home.html#libraries",
    "href": "nursing_home.html#libraries",
    "title": "Nursing Home",
    "section": "Libraries",
    "text": "Libraries\nThese are the packages that were used for this analysis:\n\nlibrary(network)\nlibrary(netplot)"
  }
]